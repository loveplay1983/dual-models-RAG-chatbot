<!DOCTYPE html>
<html>
<head>
    <title>Xuan's Chatbot</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/styles/default.min.css">
</head>
<body>
    <div class="chat-container">
        <h1>Xuan's Chatbot</h1>
        <div class="search-toggle">
            <label>
                <input type="checkbox" id="search-toggle" checked> Enable Search
            </label>
        </div>
        <div class="chat-history" id="chat-box">
            {% for msg in history %}
            <div class="message {{ 'user' if msg[0] == 'user' else 'bot' }}" data-raw="{{ msg[1] | e }}">
                <div class="message-content">{{ msg[1] }}</div>
                {% if msg[0] == 'bot' %}
                <button class="copy-btn">Copy</button>
                {% endif %}
            </div>
            {% endfor %}
        </div>
        
        <form id="chat-form">
            <input type="text" name="message" placeholder="Type your message..." required>
            <button type="submit">Send</button>
        </form>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/highlight.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>